["^ ","~:rename-macros",["^ "],"~:renames",["^ "],"~:externs",["^ ","~$Error",["^ "],"~$Object",["^ "]],"~:use-macros",["^ ","~$go","~$cljs.core.async.macros","~$go-loop","^7"],"~:excludes",["~#set",[]],"~:name","~$keechma.controller-manager","~:imports",null,"~:requires",["^ ","~$cljs.core.async","^?","~$keechma.util","^@","~$controller","~$keechma.controller","^B","^B","~$reporter","~$keechma.reporter","^D","^D"],"~:cljs.spec/speced-vars",[],"~:uses",["^ ","~$timeout","^?","~$dissoc-in","^@","~$<!","^?","~$close!","^?","~$chan","^?","~$>!","^?","~$alts!","^?","~$put!","^?","~$SerializedController","^B"],"~:defs",["^ ","~$apply-start-or-wake-controllers",["^ ","~:protocol-inline",null,"~:meta",["^ ","~:file","/Users/retro/Projects/dataloader-example/resources/public/js/dev/keechma/controller_manager.cljs","~:line",67,"~:column",7,"~:end-line",67,"~:end-column",38,"~:arglists",["~#list",["~$quote",["^Z",[["~$action","~$reporter-action","~$app-db","^C","~$controllers","~$commands-chan","~$get-running","~$start-or-wake"]]]]]],"^;","~$keechma.controller-manager/apply-start-or-wake-controllers","~:variadic",false,"^T","resources/public/js/dev/keechma/controller_manager.cljs","^X",38,"~:method-params",["^Z",[["^10","^11","^12","^C","^13","^14","^15","^16"]]],"~:protocol-impl",null,"~:arglists-meta",["^Z",[null,null]],"^V",1,"^U",67,"^W",67,"~:max-fixed-arity",8,"~:fn-var",true,"^Y",["^Z",["^[",["^Z",[["^10","^11","^12","^C","^13","^14","^15","^16"]]]]]],"~$report-running-controllers",["^ ","^R",null,"^S",["^ ","^T","/Users/retro/Projects/dataloader-example/resources/public/js/dev/keechma/controller_manager.cljs","^U",28,"^V",7,"^W",28,"^X",33,"^Y",["^Z",["^[",["^Z",[["~$app-db-atom"]]]]]],"^;","~$keechma.controller-manager/report-running-controllers","^18",false,"^T","resources/public/js/dev/keechma/controller_manager.cljs","^X",33,"^19",["^Z",[["^1?"]]],"^1:",null,"^1;",["^Z",[null,null]],"^V",1,"^U",28,"^W",28,"^1<",1,"^1=",true,"^Y",["^Z",["^[",["^Z",[["^1?"]]]]]],"~$apply-stop-controllers",["^ ","^R",null,"^S",["^ ","^T","/Users/retro/Projects/dataloader-example/resources/public/js/dev/keechma/controller_manager.cljs","^U",52,"^V",7,"^W",52,"^X",29,"^Y",["^Z",["^[",["^Z",[["^12","^C","~$stop"]]]]]],"^;","~$keechma.controller-manager/apply-stop-controllers","^18",false,"^T","resources/public/js/dev/keechma/controller_manager.cljs","^X",29,"^19",["^Z",[["^12","^C","^1B"]]],"^1:",null,"^1;",["^Z",[null,null]],"^V",1,"^U",52,"^W",52,"^1<",3,"^1=",true,"^Y",["^Z",["^[",["^Z",[["^12","^C","^1B"]]]]]],"~$send-command-to",["^ ","^R",null,"^S",["^ ","^T","/Users/retro/Projects/dataloader-example/resources/public/js/dev/keechma/controller_manager.cljs","^U",8,"^V",17,"^W",8,"^X",32,"~:private",true,"^Y",["^Z",["^[",["^Z",[["^C","^A","~$command-name","~$args"],["^C","^A","^1F","^1G","~$origin"]]]]],"~:top-fn",["^ ","^18",false,"^1<",5,"^19",["^Z",[["^C","^A","^1F","^1G"],["^C","^A","^1F","^1G","^1H"]]],"^Y",["^Z",[["^C","^A","^1F","^1G"],["^C","^A","^1F","^1G","^1H"]]],"^1;",["^Z",[null,null]]]],"^1E",true,"^;","~$keechma.controller-manager/send-command-to","^18",false,"^T","resources/public/js/dev/keechma/controller_manager.cljs","^X",32,"^1I",["^ ","^18",false,"^1<",5,"^19",["^Z",[["^C","^A","^1F","^1G"],["^C","^A","^1F","^1G","^1H"]]],"^Y",["^Z",[["^C","^A","^1F","^1G"],["^C","^A","^1F","^1G","^1H"]]],"^1;",["^Z",[null,null]]],"^19",["^Z",[["^C","^A","^1F","^1G"],["^C","^A","^1F","^1G","^1H"]]],"^1:",null,"^1;",["^Z",[null,null]],"^V",1,"^U",8,"^W",8,"^1<",5,"^1=",true,"^Y",["^Z",[["^C","^A","^1F","^1G"],["^C","^A","^1F","^1G","^1H"]]]],"~$apply-wake-controllers",["^ ","^;","~$keechma.controller-manager/apply-wake-controllers","^T","resources/public/js/dev/keechma/controller_manager.cljs","^U",89,"^V",1,"^W",89,"^X",28,"^S",["^ ","^T","/Users/retro/Projects/dataloader-example/resources/public/js/dev/keechma/controller_manager.cljs","^U",89,"^V",6,"^W",89,"^X",28],"~:tag","~$any"],"~$apply-route-change",["^ ","^R",null,"^S",["^ ","^T","/Users/retro/Projects/dataloader-example/resources/public/js/dev/keechma/controller_manager.cljs","^U",103,"^V",7,"^W",103,"^X",25,"^Y",["^Z",["^[",["^Z",[["^C","~$route-params","^1?","^14","^13"]]]]]],"^;","~$keechma.controller-manager/apply-route-change","^18",false,"^T","resources/public/js/dev/keechma/controller_manager.cljs","^X",25,"^19",["^Z",[["^C","^1P","^1?","^14","^13"]]],"^1:",null,"^1;",["^Z",[null,null]],"^V",1,"^U",103,"^W",103,"^1<",5,"^1=",true,"^Y",["^Z",["^[",["^Z",[["^C","^1P","^1?","^14","^13"]]]]]],"~$apply-start-controllers",["^ ","^;","~$keechma.controller-manager/apply-start-controllers","^T","resources/public/js/dev/keechma/controller_manager.cljs","^U",88,"^V",1,"^W",88,"^X",29,"^S",["^ ","^T","/Users/retro/Projects/dataloader-example/resources/public/js/dev/keechma/controller_manager.cljs","^U",88,"^V",6,"^W",88,"^X",29],"^1M","^1N"],"~$start-ssr",["^ ","^R",null,"^S",["^ ","^T","/Users/retro/Projects/dataloader-example/resources/public/js/dev/keechma/controller_manager.cljs","^U",143,"^V",7,"^W",143,"^X",16,"^Y",["^Z",["^[",["^Z",[["~$routes-chan","^14","^1?","^13","^C","~$done-cb"]]]]]],"^;","~$keechma.controller-manager/start-ssr","^18",false,"^T","resources/public/js/dev/keechma/controller_manager.cljs","^X",16,"^19",["^Z",[["^1U","^14","^1?","^13","^C","^1V"]]],"^1:",null,"^1;",["^Z",[null,null]],"^V",1,"^U",143,"^W",143,"^1<",6,"^1=",true,"^Y",["^Z",["^[",["^Z",[["^1U","^14","^1?","^13","^C","^1V"]]]]]],"~$route-command-to-controller",["^ ","^R",null,"^S",["^ ","^T","/Users/retro/Projects/dataloader-example/resources/public/js/dev/keechma/controller_manager.cljs","^U",21,"^V",17,"^W",21,"^X",44,"^1E",true,"^Y",["^Z",["^[",["^Z",[["^C","^13","^1F","~$command-args","~$cmd-info"]]]]]],"^1E",true,"^;","~$keechma.controller-manager/route-command-to-controller","^18",false,"^T","resources/public/js/dev/keechma/controller_manager.cljs","^X",44,"^19",["^Z",[["^C","^13","^1F","^1Y","^1Z"]]],"^1:",null,"^1;",["^Z",[null,null]],"^V",1,"^U",21,"^W",21,"^1<",5,"^1=",true,"^Y",["^Z",["^[",["^Z",[["^C","^13","^1F","^1Y","^1Z"]]]]]],"~$start",["^ ","^R",null,"^S",["^ ","^T","/Users/retro/Projects/dataloader-example/resources/public/js/dev/keechma/controller_manager.cljs","^U",161,"^V",7,"^W",161,"^X",12,"^Y",["^Z",["^[",["^Z",[["~$route-chan","^14","^1?","^13","^C"]]]]],"~:doc","Starts the controller manager. Controller manager is the central part\n  of the application that manages the lifecycle of the controllers and routes\n  the messages sent to them.\n\n  `start` function receives the following parameters:\n  \n  - `route-chan` - Route changes will communicated through this channel\n  - `commands-chan` - User (UI) commands will be sent through this channel\n  - `app-db` - application state atom\n  - `controllers` map of controllers registered for the app\n\n  Each time when the new route data comes through the `route-chan` controller\n  manager will do the following:\n\n  - call the `params` function on each registered controller\n  - compare the value returned by the `params` function with the value that\n  was returned last time when the route changes\n  - based on the comparison it will do one of the following:\n    - if the last value was `nil` and the current value is `nil` - do nothing\n    - if the last value was `nil` and the current value is not `nil` - start the controller\n    - if the last value was not `nil` and the current value is `nil` - stop the controller\n    - if the last value was not `nil` and the current value is not `nil` and these values are the same - do nothing\n    - if the last value was not `nil` and the current value is not `nil` and these values are different - restart the controller (stop the current instance and start the new one)\n\n  Controller manager also acts as a command router. Each time a command comes - through the `commands-chan`\n  the name of the command should look like this `[:controlnler-key :command-name]`. Controller manager will route the `:command-name` command to the appropriate controller based on the `:controller-key`. Controller key is the key under which the controller was registered in the `controllers` argument.\n  "],"^;","~$keechma.controller-manager/start","^18",false,"^T","resources/public/js/dev/keechma/controller_manager.cljs","^X",12,"^19",["^Z",[["^21","^14","^1?","^13","^C"]]],"^1:",null,"^1;",["^Z",[null,null]],"^V",1,"^U",161,"^W",161,"^1<",5,"^1=",true,"^Y",["^Z",["^[",["^Z",[["^21","^14","^1?","^13","^C"]]]]],"^22","Starts the controller manager. Controller manager is the central part\n  of the application that manages the lifecycle of the controllers and routes\n  the messages sent to them.\n\n  `start` function receives the following parameters:\n  \n  - `route-chan` - Route changes will communicated through this channel\n  - `commands-chan` - User (UI) commands will be sent through this channel\n  - `app-db` - application state atom\n  - `controllers` map of controllers registered for the app\n\n  Each time when the new route data comes through the `route-chan` controller\n  manager will do the following:\n\n  - call the `params` function on each registered controller\n  - compare the value returned by the `params` function with the value that\n  was returned last time when the route changes\n  - based on the comparison it will do one of the following:\n    - if the last value was `nil` and the current value is `nil` - do nothing\n    - if the last value was `nil` and the current value is not `nil` - start the controller\n    - if the last value was not `nil` and the current value is `nil` - stop the controller\n    - if the last value was not `nil` and the current value is not `nil` and these values are the same - do nothing\n    - if the last value was not `nil` and the current value is not `nil` and these values are different - restart the controller (stop the current instance and start the new one)\n\n  Controller manager also acts as a command router. Each time a command comes - through the `commands-chan`\n  the name of the command should look like this `[:controlnler-key :command-name]`. Controller manager will route the `:command-name` command to the appropriate controller based on the `:controller-key`. Controller key is the key under which the controller was registered in the `controllers` argument.\n  "],"~$route-change-execution-plan",["^ ","^R",null,"^S",["^ ","^T","/Users/retro/Projects/dataloader-example/resources/public/js/dev/keechma/controller_manager.cljs","^U",32,"^V",7,"^W",32,"^X",34,"^Y",["^Z",["^[",["^Z",[["^1P","~$running-controllers","^13"]]]]]],"^;","~$keechma.controller-manager/route-change-execution-plan","^18",false,"^T","resources/public/js/dev/keechma/controller_manager.cljs","^X",34,"^19",["^Z",[["^1P","^25","^13"]]],"^1:",null,"^1;",["^Z",[null,null]],"^V",1,"^U",32,"^W",32,"^1<",3,"^1=",true,"^Y",["^Z",["^[",["^Z",[["^1P","^25","^13"]]]]]],"~$call-ssr-handler-on-started-controllers",["^ ","^R",null,"^S",["^ ","^T","/Users/retro/Projects/dataloader-example/resources/public/js/dev/keechma/controller_manager.cljs","^U",118,"^V",7,"^W",118,"^X",46,"^Y",["^Z",["^[",["^Z",[["^1?","^C","^20","~$ssr-handler-done-cb"]]]]]],"^;","~$keechma.controller-manager/call-ssr-handler-on-started-controllers","^18",false,"^T","resources/public/js/dev/keechma/controller_manager.cljs","^X",46,"^19",["^Z",[["^1?","^C","^20","^28"]]],"^1:",null,"^1;",["^Z",[null,null]],"^V",1,"^U",118,"^W",118,"^1<",4,"^1=",true,"^Y",["^Z",["^[",["^Z",[["^1?","^C","^20","^28"]]]]]],"~$send-route-changed-to-surviving-controllers",["^ ","^R",null,"^S",["^ ","^T","/Users/retro/Projects/dataloader-example/resources/public/js/dev/keechma/controller_manager.cljs","^U",98,"^V",7,"^W",98,"^X",50,"^Y",["^Z",["^[",["^Z",[["^1?","^C","~$route-changed","^1P"]]]]]],"^;","~$keechma.controller-manager/send-route-changed-to-surviving-controllers","^18",false,"^T","resources/public/js/dev/keechma/controller_manager.cljs","^X",50,"^19",["^Z",[["^1?","^C","^2;","^1P"]]],"^1:",null,"^1;",["^Z",[null,null]],"^V",1,"^U",98,"^W",98,"^1<",4,"^1=",true,"^Y",["^Z",["^[",["^Z",[["^1?","^C","^2;","^1P"]]]]]],"~$call-handler-on-started-controllers",["^ ","^R",null,"^S",["^ ","^T","/Users/retro/Projects/dataloader-example/resources/public/js/dev/keechma/controller_manager.cljs","^U",91,"^V",7,"^W",91,"^X",42,"^Y",["^Z",["^[",["^Z",[["^1?","^C","^20"]]]]]],"^;","~$keechma.controller-manager/call-handler-on-started-controllers","^18",false,"^T","resources/public/js/dev/keechma/controller_manager.cljs","^X",42,"^19",["^Z",[["^1?","^C","^20"]]],"^1:",null,"^1;",["^Z",[null,null]],"^V",1,"^U",91,"^W",91,"^1<",3,"^1=",true,"^Y",["^Z",["^[",["^Z",[["^1?","^C","^20"]]]]]]],"~:cljs.spec/registry-ref",[],"~:require-macros",["^ ","~$m","^7","^7","^7"],"~:cljs.analyzer/constants",["^ ","~:seen",["^:",["~:args","~:keecmha/lifecycle","~:controller","~:router","~:else","^;","~:keechma/lifecycle","~:out-chan","~:start","~:params","~:command","~:running-controllers","~:recur","~:lifecycle","~:ssr-handler","~:route","~:running","~:route-params","~:internal","~:stop","~:reporter","~:out","~:running-chans","~:app","~:info","~:in-chan","~:handler","~:route-changed","~:wake","~:in"]],"~:order",["^31","^2Y","^2W","^2E","^;","^2Z","^33","^2H","^2[","^2L","^2C","^2T","^2M","^2K","^2U","^2J","^32","^2G","^2O","^2D","^2I","^2S","^2Q","^2V","^2R","^30","^2F","^2P","^2N","^2X"]],"^22",null]